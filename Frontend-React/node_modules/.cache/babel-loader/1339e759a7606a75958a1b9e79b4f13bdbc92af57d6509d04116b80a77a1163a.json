{"ast":null,"code":"import _regeneratorRuntime from\"/home/andru/Code/Social-Monolyth-GQL/Frontend-React/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/andru/Code/Social-Monolyth-GQL/Frontend-React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import SendData from'./SendData';export default function Chkauth(){return _Chkauth.apply(this,arguments);}function _Chkauth(){_Chkauth=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var jwt,jwtObject,gqlRequest,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0://check if user has valid jwt\njwt=localStorage.getItem('jwt_token');jwtObject={data:{Token:jwt}};gqlRequest=\"query Chkauth ($data: JwtdataInput!){ Chkauth(input: $data) { AuthdUser } }\";_context.next=5;return SendData(gqlRequest,jwtObject);case 5:response=_context.sent;if(!response){_context.next=11;break;}// if password is a match redirect to profile page\nconsole.log(\"authenticated username is:\",response.data.Chkauth.AuthdUser);return _context.abrupt(\"return\",response.data.Chkauth.AuthdUser);case 11:return _context.abrupt(\"return\",false);case 12:case\"end\":return _context.stop();}},_callee);}));return _Chkauth.apply(this,arguments);}","map":{"version":3,"names":["SendData","Chkauth","jwt","localStorage","getItem","jwtObject","data","Token","gqlRequest","response","console","log","AuthdUser"],"sources":["/home/andru/Code/Social-Monolyth-GQL/Frontend-React/src/routes/chkAuth.jsx"],"sourcesContent":["import SendData from './SendData';\n\nexport default async function Chkauth (){ //check if user has valid jwt\n    \n  let jwt = localStorage.getItem('jwt_token');\n\n  let jwtObject = {\n    data: {\n      Token: jwt\n    }  \n  }\n\n  let gqlRequest = \"query Chkauth ($data: JwtdataInput!){ Chkauth(input: $data) { AuthdUser } }\"\n  \n  let response = await SendData(gqlRequest, jwtObject)\n\n  if ( response ){ // if password is a match redirect to profile page\n    console.log(\"authenticated username is:\", response.data.Chkauth.AuthdUser)\n\n    return response.data.Chkauth.AuthdUser\n  } else {\n    return false\n  }\n} "],"mappings":"kSAAA,MAAOA,SAAQ,KAAM,YAAY,CAEjC,uBAA8BC,QAAO,0CAqBpC,uFArBc,0KAA2B;AAEpCC,GAAG,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAEvCC,SAAS,CAAG,CACdC,IAAI,CAAE,CACJC,KAAK,CAAEL,GACT,CACF,CAAC,CAEGM,UAAU,CAAG,6EAA6E,uBAEzER,SAAQ,CAACQ,UAAU,CAAEH,SAAS,CAAC,QAAhDI,QAAQ,mBAEPA,QAAQ,0BAAI;AACfC,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAEF,QAAQ,CAACH,IAAI,CAACL,OAAO,CAACW,SAAS,CAAC,iCAEnEH,QAAQ,CAACH,IAAI,CAACL,OAAO,CAACW,SAAS,0CAE/B,KAAK,wDAEf"},"metadata":{},"sourceType":"module","externalDependencies":[]}