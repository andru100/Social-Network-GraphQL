{"ast":null,"code":"import _regeneratorRuntime from\"/home/andru/Code/Social-Monolyth-GQL/Frontend-React/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/andru/Code/Social-Monolyth-GQL/Frontend-React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{useEffect}from\"react\";import{useNavigate,Link}from'react-router-dom';import ChkAuth from'./chkAuth';import Google from'../images/icons/icon-google.png';import SendData from'./SendData';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function RenderSignin(){var Navigate=useNavigate();useEffect(function(){//check if signed in and go to profile page\nChkAuth().then(function(user){if(user){Navigate(\"/profile/\"+user+\"/home\");}});},[]);function signin(){return _signin.apply(this,arguments);}function _signin(){_signin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var username,password,signindata,gqlRequest,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// Sign in, check password, get token\nusername=document.getElementById('username').value;password=document.getElementById('pass').value;signindata={data:{Username:username,Password:password}};gqlRequest=\"mutation SignIn ($data: UsrsigninInput!){ SignIn(input: $data) { Token } }\";_context.next=6;return SendData(gqlRequest,signindata,'signin');case 6:response=_context.sent;if(response){// if password is a match redirect to profile page\nlocalStorage.setItem('jwt_token',response.data.SignIn.Token);// Store JWT in storage\nNavigate(\"/Profile/\"+username+\"/home\");}case 8:case\"end\":return _context.stop();}},_callee);}));return _signin.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title p-b-53\",children:\"Sign In With\"}),/*#__PURE__*/_jsxs(\"a\",{href:\"/#\",className:\"btn-face m-b-20\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-facebook-official\"}),\"Facebook\"]}),/*#__PURE__*/_jsxs(\"a\",{href:\"/#\",className:\"btn-google m-b-20\",children:[/*#__PURE__*/_jsx(\"img\",{src:Google,alt:\"GOOGLE\"}),\"Google\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-t-31 p-b-9\",children:/*#__PURE__*/_jsx(\"span\",{className:\"txt1\",children:\"Username\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input\",\"data-validate\":\"Username is required\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input100\",type:\"text\",name:\"username\",id:\"username\"}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-t-13 p-b-9\",children:/*#__PURE__*/_jsx(\"span\",{className:\"txt1\",children:\"Password\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input\",\"data-validate\":\"Password is required\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input100\",type:\"password\",name:\"pass\",id:\"pass\"}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-login100-form-btn m-t-17\",children:/*#__PURE__*/_jsx(\"button\",{className:\"login100-form-btn\",type:\"button\",onClick:signin,children:\"Sign In\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full text-center p-t-55\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"txt2\",style:{marginRight:\"10px\",color:\"black\"},children:\"Not a member?\"}),/*#__PURE__*/_jsx(Link,{to:\"/signUp\",children:\"Sign up now\"})]})]});};","map":{"version":3,"names":["React","useEffect","useNavigate","Link","ChkAuth","Google","SendData","RenderSignin","Navigate","then","user","signin","username","document","getElementById","value","password","signindata","data","Username","Password","gqlRequest","response","localStorage","setItem","SignIn","Token","marginRight","color"],"sources":["/home/andru/Code/Social-Monolyth-GQL/Frontend-React/src/routes/SignIn.jsx"],"sourcesContent":["import React from 'react';\nimport { useEffect } from \"react\";\nimport { useNavigate, Link } from 'react-router-dom';\nimport ChkAuth from './chkAuth';\nimport Google from '../images/icons/icon-google.png'\nimport SendData from './SendData';\n\nexport default function RenderSignin () {\n\n\tconst Navigate = useNavigate();\n\n\tuseEffect( () => { //check if signed in and go to profile page\n\t\tChkAuth().then(user => {\n\t\t  if (user) {\n\t\t  Navigate(\"/profile/\" + user + \"/home\")\n\t\t  } \n\t\t})\n\t},[]);\n\n\t\n\tasync function signin(){ // Sign in, check password, get token\n\t\t\n\t\tconst username = document.getElementById('username').value;\n\t\tconst password = document.getElementById('pass').value;\n\t\t\t\n\t\tlet signindata = {data: {\n\t\t\tUsername: username,\n\t\t\tPassword: password\n\t\t\t}\n\t\t}\n\n\t\tlet gqlRequest = \"mutation SignIn ($data: UsrsigninInput!){ SignIn(input: $data) { Token } }\"\n\t\t\n\t\tlet response = await SendData(gqlRequest, signindata, 'signin')\n\n\t\t\n\t\tif ( response ){ // if password is a match redirect to profile page\n\t\t\tlocalStorage.setItem('jwt_token', response.data.SignIn.Token) // Store JWT in storage\n\t\t\tNavigate (\"/Profile/\" + username + \"/home\")\n\t\t} \n\t\t\n\t\t\n\t}\n\t\n  return (  \n    <>\n      <span className=\"login100-form-title p-b-53\">\n\t\t\t\t\t\tSign In With\n\t\t\t\t\t</span>\n\t\t\t\t\t<a href=\"/#\" className=\"btn-face m-b-20\">\n\t\t\t\t\t\t<i className=\"fa fa-facebook-official\"></i>\n\t\t\t\t\t\tFacebook\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href=\"/#\" className=\"btn-google m-b-20\">\n\t\t\t\t\t\t<img src={Google} alt=\"GOOGLE\" />\n\t\t\t\t\t\tGoogle\n\t\t\t\t\t</a>\n\t\t\t\t\t<div className=\"p-t-31 p-b-9\">\n\t\t\t\t\t\t<span className=\"txt1\">\n\t\t\t\t\t\t\tUsername\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"Username is required\">\n\t\t\t\t\t\t<input className=\"input100\" type=\"text\" name=\"username\" id=\"username\"/>\n\t\t\t\t\t\t<span className=\"focus-input100\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"p-t-13 p-b-9\">\n\t\t\t\t\t\t<span className=\"txt1\">\n\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{/* <a href=\"/\" className=\"txt2 bo1 m-l-5\">\n\t\t\t\t\t\t\tForgot?\n\t\t\t\t\t\t</a> */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"Password is required\">\n\t\t\t\t\t\t<input className=\"input100\" type=\"password\" name=\"pass\" id=\"pass\" />\n\t\t\t\t\t\t<span className=\"focus-input100\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"container-login100-form-btn m-t-17\">\n\t\t\t\t\t\t<button className=\"login100-form-btn\" type=\"button\" onClick={signin}>\n\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-full text-center p-t-55\">\n\t\t\t\t\t\t<span className=\"txt2\" style={{marginRight:\"10px\", color:\"black\"}}>\n\t\t\t\t\t\t\tNot a member?\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<Link to=\"/signUp\">Sign up now</Link>\n\t\t\t\t\t</div>\n    </>\n  )\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}