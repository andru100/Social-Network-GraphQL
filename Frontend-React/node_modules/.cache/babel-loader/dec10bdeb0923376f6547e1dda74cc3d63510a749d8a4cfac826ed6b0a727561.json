{"ast":null,"code":"import _regeneratorRuntime from\"/home/andru/Code/Social-Monolyth-GQL/Frontend-React/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/andru/Code/Social-Monolyth-GQL/Frontend-React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{useNavigate,Link}from'react-router-dom';import SendData from'./SendData';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function RenderSignUp(){var Navigate=useNavigate();function signup(){return _signup.apply(this,arguments);}function _signup(){_signup=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var username,password,email,signupdata,gqlRequest,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// sends username, password, email from input, backend then creates s3 bucket and stores details on mongodb\nusername=document.getElementById('signupusername').value;password=document.getElementById('signuppass').value;email=document.getElementById('signupemail').value;signupdata={data:{Username:username,Password:password,Email:email}};gqlRequest=\"mutation SignUp ($data: NewUserDataInput!){ SignUp(input: $data) { Token } }\";_context.next=7;return SendData(gqlRequest,signupdata,'signup');case 7:response=_context.sent;if(response){// if password is a match redirect to profile page\nlocalStorage.setItem('jwt_token',response.data.SignUp.Token);// Store JWT in storage\nalert(\"Welcome to the club! Please setup your profile\");Navigate(\"/editProfile/\"+username);}case 9:case\"end\":return _context.stop();}},_callee);}));return _signup.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title p-b-53\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-t-31 p-b-9\",children:/*#__PURE__*/_jsx(\"span\",{className:\"txt1\",children:\"Username\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input\",\"data-validate\":\"Username is required\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input100\",type:\"text\",name:\"username\",id:\"signupusername\"}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-t-13 p-b-9\",children:/*#__PURE__*/_jsx(\"span\",{className:\"txt1\",children:\"Password\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input\",\"data-validate\":\"Password is required\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input100\",type:\"password\",name:\"pass\",id:\"signuppass\"}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-t-13 p-b-9\",children:/*#__PURE__*/_jsx(\"span\",{className:\"txt1\",children:\"Email\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input\",\"data-validate\":\"Email is required\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input100\",type:\"email\",name:\"pass\",id:\"signupemail\"}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-login100-form-btn m-t-17\",children:/*#__PURE__*/_jsx(\"button\",{className:\"login100-form-btn\",type:\"button\",onClick:signup,Navigate:true,to:\"/signIn\",children:\"Sign Up\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full text-center p-t-55\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"txt2\",children:\"Already a member?\"}),/*#__PURE__*/_jsx(Link,{to:\"/signIn\",children:\"Sign in now\"})]})]});}","map":{"version":3,"names":["React","useNavigate","Link","SendData","RenderSignUp","Navigate","signup","username","document","getElementById","value","password","email","signupdata","data","Username","Password","Email","gqlRequest","response","localStorage","setItem","SignUp","Token","alert"],"sources":["/home/andru/Code/Social-Monolyth-GQL/Frontend-React/src/routes/SignUp.jsx"],"sourcesContent":["import React from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport SendData from './SendData';\n\n\nexport default function RenderSignUp () {\n\n  const Navigate = useNavigate();\n\n  async function signup () { // sends username, password, email from input, backend then creates s3 bucket and stores details on mongodb\n  \n    const username = document.getElementById('signupusername').value;\n    const password = document.getElementById('signuppass').value;\n    const email = document.getElementById('signupemail').value;\n      \n    let signupdata = \n      { data: {\n        Username: username,\n        Password: password,\n        Email: email\n        }\n      }\n\n\t\tlet gqlRequest = \"mutation SignUp ($data: NewUserDataInput!){ SignUp(input: $data) { Token } }\"\n\t\t\n\t\tlet response = await SendData(gqlRequest, signupdata, 'signup')\n\t\t\n\t\tif ( response ){ // if password is a match redirect to profile page\n\t\t\tlocalStorage.setItem('jwt_token', response.data.SignUp.Token) // Store JWT in storage\n      alert(\"Welcome to the club! Please setup your profile\")\n\t\t\tNavigate (\"/editProfile/\"+username)\n\t\t} \n  }\n\n  \n  return(\n    <>\n      <span className=\"login100-form-title p-b-53\">\n        Sign Up\n      </span>\n      <div className=\"p-t-31 p-b-9\">\n        <span className=\"txt1\">\n          Username\n        </span>\n      </div>\n      <div className=\"wrap-input100 validate-input\" data-validate = \"Username is required\">\n        <input className=\"input100\" type=\"text\" name=\"username\" id=\"signupusername\"/>\n        <span className=\"focus-input100\"></span>\n      </div>\n      <div className=\"p-t-13 p-b-9\">\n        <span className=\"txt1\">\n          Password\n        </span>\n      </div>\n      <div className=\"wrap-input100 validate-input\" data-validate = \"Password is required\">\n        <input className=\"input100\" type=\"password\" name=\"pass\" id=\"signuppass\" />\n        <span className=\"focus-input100\"></span>\n      </div>\n          <div className=\"p-t-13 p-b-9\">\n        <span className=\"txt1\">\n          Email\n        </span>\n      </div>\n      <div className=\"wrap-input100 validate-input\" data-validate = \"Email is required\">\n        <input className=\"input100\" type=\"email\" name=\"pass\" id=\"signupemail\" />\n        <span className=\"focus-input100\"></span>\n      </div>\n\n      <div className=\"container-login100-form-btn m-t-17\">\n        <button className=\"login100-form-btn\" type=\"button\" onClick={signup} Navigate to = \"/signIn\">\n          Sign Up\n        </button>\n      </div>\n\n      <div className=\"w-full text-center p-t-55\">\n        <span className=\"txt2\">\n          Already a member? \n        </span>\n\n        <Link to=\"/signIn\">Sign in now</Link> \n      </div>\n    </>\n  );\n}"],"mappings":"kSAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,IAAI,KAAQ,kBAAkB,CACpD,MAAOC,SAAQ,KAAM,YAAY,CAAC,6IAGlC,cAAe,SAASC,aAAY,EAAI,CAEtC,GAAMC,SAAQ,CAAGJ,WAAW,EAAE,CAAC,QAEhBK,OAAM,8HAArB,+LAA2B;AAEnBC,QAAQ,CAAGC,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAACC,KAAK,CAC1DC,QAAQ,CAAGH,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,KAAK,CACtDE,KAAK,CAAGJ,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACC,KAAK,CAEtDG,UAAU,CACZ,CAAEC,IAAI,CAAE,CACNC,QAAQ,CAAER,QAAQ,CAClBS,QAAQ,CAAEL,QAAQ,CAClBM,KAAK,CAAEL,KACP,CACF,CAAC,CAEDM,UAAU,CAAG,8EAA8E,uBAE1Ef,SAAQ,CAACe,UAAU,CAAEL,UAAU,CAAE,QAAQ,CAAC,QAA3DM,QAAQ,eAEZ,GAAKA,QAAQ,CAAE,CAAE;AAChBC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAEF,QAAQ,CAACL,IAAI,CAACQ,MAAM,CAACC,KAAK,CAAC,CAAC;AAC3DC,KAAK,CAAC,gDAAgD,CAAC,CAC1DnB,QAAQ,CAAE,eAAe,CAACE,QAAQ,CAAC,CACpC,CAAC,qDACA,yCAGD,mBACE,wCACE,aAAM,SAAS,CAAC,4BAA4B,UAAC,SAE7C,EAAO,cACP,YAAK,SAAS,CAAC,cAAc,uBAC3B,aAAM,SAAS,CAAC,MAAM,UAAC,UAEvB,EAAO,EACH,cACN,aAAK,SAAS,CAAC,8BAA8B,CAAC,gBAAgB,sBAAsB,wBAClF,cAAO,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,gBAAgB,EAAE,cAC7E,aAAM,SAAS,CAAC,gBAAgB,EAAQ,GACpC,cACN,YAAK,SAAS,CAAC,cAAc,uBAC3B,aAAM,SAAS,CAAC,MAAM,UAAC,UAEvB,EAAO,EACH,cACN,aAAK,SAAS,CAAC,8BAA8B,CAAC,gBAAgB,sBAAsB,wBAClF,cAAO,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,EAAG,cAC1E,aAAM,SAAS,CAAC,gBAAgB,EAAQ,GACpC,cACF,YAAK,SAAS,CAAC,cAAc,uBAC/B,aAAM,SAAS,CAAC,MAAM,UAAC,OAEvB,EAAO,EACH,cACN,aAAK,SAAS,CAAC,8BAA8B,CAAC,gBAAgB,mBAAmB,wBAC/E,cAAO,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,EAAG,cACxE,aAAM,SAAS,CAAC,gBAAgB,EAAQ,GACpC,cAEN,YAAK,SAAS,CAAC,oCAAoC,uBACjD,eAAQ,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAED,MAAO,CAAC,QAAQ,MAAC,EAAE,CAAG,SAAS,UAAC,SAE7F,EAAS,EACL,cAEN,aAAK,SAAS,CAAC,2BAA2B,wBACxC,aAAM,SAAS,CAAC,MAAM,UAAC,mBAEvB,EAAO,cAEP,KAAC,IAAI,EAAC,EAAE,CAAC,SAAS,UAAC,aAAW,EAAO,GACjC,GACL,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}